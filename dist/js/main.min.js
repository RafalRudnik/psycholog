"use strict";var burgerBtn=document.querySelector(".nav__burger-inside"),logo=document.querySelector(".nav__logo"),offerBtn=document.querySelector(".offer-btn"),footerYear=document.querySelector(".currYear"),menu=document.querySelector(".menu"),allLinks=document.querySelectorAll(".menu__item a"),sectionOffer=document.querySelector(".offer-extend"),offerCloseBtn=document.querySelector(".closeOfferBtn"),offerHeader=document.querySelectorAll(".mental"),sectionAbout=document.querySelector(".about-expand"),aboutCloseBtn=document.querySelector(".closeAboutBtn"),aboutBtn=document.querySelector(".about-btn"),cookieBox=document.querySelector(".cookie-box"),cookieBtn=document.querySelector(".cookie-btn"),handleOpenMenu=function(){burgerBtn.classList.toggle("active"),menu.classList.toggle("activeMenu"),menu.classList.remove("hideMenu")},handleClose=function(){burgerBtn.classList.toggle("active"),menu.classList.toggle("activeMenu"),menu.classList.add("hideMenu"),sectionOffer.classList.contains("offer-active")&&handleCloseOffer(),sectionAbout.classList.contains("offer-active")&&handleCloseAbout()},hideLogo=function(){100<=window.scrollY?(logo.classList.add("hideLogo"),logo.classList.remove("showLogo")):(logo.classList.remove("hideLogo"),logo.classList.add("showLogo"))},handleOfferAnimation=function(){var o=1;offerHeader.forEach(function(e){e.classList.toggle("offerHeaderAnim"),e.style.animationDelay="."+o+"s",o++})},handleYear=function(){var e=(new Date).getFullYear();footerYear.textContent=e},handleOpenOffer=function(){logo.classList.add("hideLogo"),sectionOffer.classList.remove("offer-close"),sectionOffer.classList.add("offer-active"),handleOfferAnimation()},handleCloseOffer=function(){sectionOffer.classList.remove("offer-active"),sectionOffer.classList.add("offer-close"),offerToTheTop(),handleOfferAnimation()},offerToTheTop=function(){window.sectionOffer.scrollTo({top:0,behavior:"smooth"})},handleOpenAbout=function(){logo.classList.add("hideLogo"),sectionAbout.classList.remove("offer-close"),sectionAbout.classList.add("offer-active")},handleCloseAbout=function(){sectionAbout.classList.remove("offer-active"),sectionAbout.classList.add("offer-close"),aboutToTheTop()},aboutToTheTop=function(){window.sectionAbout.scrollTo({top:0,behavior:"smooth"})},showCookie=function(){localStorage.getItem("cookie")&&cookieBox.classList.add("hideCookie")},handleCookieBox=function(){localStorage.setItem("cookie","true"),cookieBox.classList.add("hideCookie")},sendBtn=(showCookie(),handleYear(),burgerBtn.addEventListener("click",handleOpenMenu),window.addEventListener("scroll",hideLogo),allLinks.forEach(function(e){return e.addEventListener("click",handleClose)}),offerBtn.addEventListener("click",handleOpenOffer),offerCloseBtn.addEventListener("click",handleCloseOffer),aboutBtn.addEventListener("click",handleOpenAbout),aboutCloseBtn.addEventListener("click",handleCloseAbout),cookieBtn.addEventListener("click",handleCookieBox),document.querySelector(".sendBtn")),msgStatus=document.querySelector(".msg-status"),input=document.querySelector("#name"),mailInput=document.querySelector("#email"),resultInput=document.querySelector("#result"),checkName=function(e){var o=input.closest(".contact-box");""===input.value?(o.classList.add("error"),e.preventDefault()):o.classList.remove("error")},checkMail=function(e,o){var t=e.closest(".contact-box");/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/i.test(e.value)?t.classList.remove("error"):(t.classList.add("error"),o.preventDefault())},checkResult=function(e){var o=resultInput.closest(".contact-box");14!=resultInput.value?(o.classList.add("error"),e.preventDefault()):o.classList.remove("error")},checkErrors=function(o){var e=document.querySelectorAll(".contact-box"),t=0;e.forEach(function(e){e.classList.contains("error")&&(t++,o.preventDefault())}),0==t&&handleMailSend()},handleMailSend=function(){"?mail_status=sent"===document.location.search&&(msgStatus.classList.add("success"),msgStatus.textContent="Wiadomość wysłana!",setTimeout(function(){msgStatus.classList.remove("success")},3e3)),"?mail_status=error"===document.location.search&&(msgStatus.classList.add("error"),msgStatus.textContent="Wystąpił błąd.",setTimeout(function(){msgStatus.classList.remove("error")},3e3))};sendBtn.addEventListener("click",function(e){checkName(e),checkMail(mailInput,e),checkResult(e),checkErrors(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibG9nbyIsIm9mZmVyQnRuIiwiZm9vdGVyWWVhciIsIm1lbnUiLCJhbGxMaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZWN0aW9uT2ZmZXIiLCJvZmZlckNsb3NlQnRuIiwib2ZmZXJIZWFkZXIiLCJzZWN0aW9uQWJvdXQiLCJhYm91dEJ0biIsImNvb2tpZUJveCIsImhhbmRsZU9wZW5NZW51IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiY29udGFpbnMiLCJoYW5kbGVDbG9zZU9mZmVyIiwiaGFuZGxlQ2xvc2VBYm91dCIsImFkZCIsIml0ZW0iLCJhbmltYXRpb25EZWxheSIsImZvckVhY2giLCJzdHlsZSIsImRlbGF5VGltZSIsImhhbmRsZVllYXIiLCJoYW5kbGVPcGVuT2ZmZXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJoYW5kbGVPZmZlckFuaW1hdGlvbiIsIm9mZmVyVG9UaGVUb3AiLCJzY3JvbGxUbyIsIndpbmRvdyIsImJlaGF2aW9yIiwiYWJvdXRUb1RoZVRvcCIsInNob3dDb29raWUiLCJjb29raWVFYXRlbiIsInRvcCIsImhhbmRsZUNvb2tpZUJveCIsImxvY2FsU3RvcmFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRJdGVtIiwiaGFuZGxlT3BlbkFib3V0IiwiYWJvdXRDbG9zZUJ0biIsImNvb2tpZUJ0biIsImNvbnRhY3RCb3giLCJzZW5kQnRuIiwibXNnU3RhdHVzIiwiaGFuZGxlQ2xvc2UiLCJtYWlsSW5wdXQiLCJyZXN1bHRJbnB1dCIsImNoZWNrTmFtZSIsImUiLCJjbG9zZXN0IiwiaW5wdXQiLCJjaGVja01haWwiLCJyZSIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJ0ZXN0IiwiYWxsQ29udGFjdEJveCIsImVycm9yQ291bnQiLCJoYW5kbGVNYWlsU2VuZCIsInRleHRDb250ZW50Iiwic2V0VGltZW91dCIs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QitDLEVBQUFNLGVBQWlCLEVBZGxCLEVBa0JHTixZQUFFTSxTQUFBQSxHQWZKLElBZ0JDYixFQUFBSyxZQUFBRyxRQUFBLGNBQUEsRUFDQyxJQUFBSCxZQUFBTyxPQUNGWixFQUFJZ0IsVUFBaUIxQyxJQUFBLE9BQUEsRUFmcEJpQyxFQWdCQVUsZUFBZSxHQUVoQmpCLEVBQUFoQyxVQUFBRSxPQUFBLE9BQUEsQ0FkRCxFQW1CRWdDLFlBQVVnQixTQUFBQSxHQWhCWCxJQWtCQ0MsRUFBV2xFLFNBQU1PLGlCQUFBLGNBQUEsRUFqQmR3RCxFQWtCUWhELEVBakJaK0MsRUFrQlN0QyxRQUFBLFNBQUEyQyxHQUNUQSxFQUFBcEQsVUFBQUcsU0FBQSxPQUFBLElBRUE2QyxDQUFJL0QsR0FsQkZzRCxFQW1CREwsZUFBVWxDLEVBakJYLENBQUMsRUFxQldBLEdBcEJSZ0QsR0FDSEMsZUFvQlEsQ0FFVixFQUdDQSxlQUFBLFdBQ1ksc0JBQVpYLFNBQVllLFNBQUFDLFNBQ1paLFVBQVVOLFVBQVM5QixJQUFJLFNBQUEsRUFDdkJpRCxVQUFBQSxZQUFjLHFCQUViSixXQUFBLFdBcEJDakIsVUFBVWxDLFVBQVVFLE9BQU8sU0FBUyxDQUNyQyxFQUFHLEdBQUksR0FHeUIsdUJBQTdCakIsU0FBU29FLFNBQVNDLFNBQ3JCcEIsVUFBVWxDLFVBQVVNLElBQUksT0FBTyxFQUMvQjRCLFVBQVVnQixZQUFjLGlCQUV4QkMsV0FBVyxXQUNWakIsVUFBVWxDLFVBQVVFLE9BQU8sT0FBTyxDQUNuQyxFQUFHLEdBQUksRUFFVCxFQUVBK0IsUUFBUU4saUJBQWlCLFFBQVMsU0FBQ1ksR0FFbENELFVBQVVDLENBQUMsRUFDWEcsVUFBVU4sVUFBV0csQ0FBQyxFQUN0QmdCLFlBQVloQixDQUFDLEVBQ2JpQixZQUFZakIsQ0FBQyxDQUNkLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19idXJnZXItaW5zaWRlJyk7XG5jb25zdCBsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbG9nbycpO1xuY29uc3Qgb2ZmZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2ZmZXItYnRuJyk7XG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnJZZWFyJyk7XG5jb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUnKTtcbmNvbnN0IGFsbExpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1lbnVfX2l0ZW0gYScpO1xuY29uc3Qgc2VjdGlvbk9mZmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9mZmVyLWV4dGVuZCcpO1xuY29uc3Qgb2ZmZXJDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZU9mZmVyQnRuJyk7XG5jb25zdCBvZmZlckhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW50YWwnKTtcbmNvbnN0IHNlY3Rpb25BYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dC1leHBhbmQnKTtcbmNvbnN0IGFib3V0Q2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2VBYm91dEJ0bicpO1xuY29uc3QgYWJvdXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXQtYnRuJyk7XG5cbmNvbnN0IGNvb2tpZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWUtYm94Jyk7XG5jb25zdCBjb29raWVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llLWJ0bicpO1xuXG5jb25zdCBoYW5kbGVPcGVuTWVudSA9ICgpID0+IHtcblx0YnVyZ2VyQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuXHRtZW51LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZU1lbnUnKTtcblx0bWVudS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlTWVudScpO1xufTtcblxuY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG5cdGJ1cmdlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcblx0bWVudS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmVNZW51Jyk7XG5cdG1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZU1lbnUnKTtcblx0aWYgKHNlY3Rpb25PZmZlci5jbGFzc0xpc3QuY29udGFpbnMoJ29mZmVyLWFjdGl2ZScpKSB7XG5cdFx0aGFuZGxlQ2xvc2VPZmZlcigpO1xuXHR9XG5cdGlmIChzZWN0aW9uQWJvdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdvZmZlci1hY3RpdmUnKSkge1xuXHRcdGhhbmRsZUNsb3NlQWJvdXQoKTtcblx0fVxufTtcblxuY29uc3QgaGlkZUxvZ28gPSAoKSA9PiB7XG5cdGlmICh3aW5kb3cuc2Nyb2xsWSA+PSAxMDApIHtcblx0XHRsb2dvLmNsYXNzTGlzdC5hZGQoJ2hpZGVMb2dvJyk7XG5cdFx0bG9nby5jbGFzc0xpc3QucmVtb3ZlKCdzaG93TG9nbycpO1xuXHR9IGVsc2Uge1xuXHRcdGxvZ28uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZUxvZ28nKTtcblx0XHRsb2dvLmNsYXNzTGlzdC5hZGQoJ3Nob3dMb2dvJyk7XG5cdH1cbn07XG5cbmNvbnN0IGhhbmRsZU9mZmVyQW5pbWF0aW9uID0gKCkgPT4ge1xuXHRsZXQgZGVsYXlUaW1lID0gMTtcblx0b2ZmZXJIZWFkZXIuZm9yRWFjaCgoaXRlbSkgPT4ge1xuXHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnb2ZmZXJIZWFkZXJBbmltJyk7XG5cdFx0aXRlbS5zdHlsZS5hbmltYXRpb25EZWxheSA9ICcuJyArIGRlbGF5VGltZSArICdzJztcblx0XHRkZWxheVRpbWUrKztcblx0fSk7XG59O1xuXG5jb25zdCBoYW5kbGVZZWFyID0gKCkgPT4ge1xuXHRsZXQgZGF0ZSA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcblx0Zm9vdGVyWWVhci50ZXh0Q29udGVudCA9IGRhdGU7XG59O1xuXG5jb25zdCBoYW5kbGVPcGVuT2ZmZXIgPSAoKSA9PiB7XG5cdGxvZ28uY2xhc3NMaXN0LmFkZCgnaGlkZUxvZ28nKTtcblx0c2VjdGlvbk9mZmVyLmNsYXNzTGlzdC5yZW1vdmUoJ29mZmVyLWNsb3NlJyk7XG5cdHNlY3Rpb25PZmZlci5jbGFzc0xpc3QuYWRkKCdvZmZlci1hY3RpdmUnKTtcblx0aGFuZGxlT2ZmZXJBbmltYXRpb24oKTtcbn07XG5cbmNvbnN0IGhhbmRsZUNsb3NlT2ZmZXIgPSAoKSA9PiB7XG5cdHNlY3Rpb25PZmZlci5jbGFzc0xpc3QucmVtb3ZlKCdvZmZlci1hY3RpdmUnKTtcblx0c2VjdGlvbk9mZmVyLmNsYXNzTGlzdC5hZGQoJ29mZmVyLWNsb3NlJyk7XG5cdG9mZmVyVG9UaGVUb3AoKTtcblx0aGFuZGxlT2ZmZXJBbmltYXRpb24oKTtcbn07XG5cbmNvbnN0IG9mZmVyVG9UaGVUb3AgPSAoKSA9PiB7XG5cdHdpbmRvdy5zZWN0aW9uT2ZmZXIuc2Nyb2xsVG8oe1xuXHRcdHRvcDogMCxcblx0XHRiZWhhdmlvcjogJ3Ntb290aCcsXG5cdH0pO1xufTtcblxuY29uc3QgaGFuZGxlT3BlbkFib3V0ID0gKCkgPT4ge1xuXHRsb2dvLmNsYXNzTGlzdC5hZGQoJ2hpZGVMb2dvJyk7XG5cdHNlY3Rpb25BYm91dC5jbGFzc0xpc3QucmVtb3ZlKCdvZmZlci1jbG9zZScpO1xuXHRzZWN0aW9uQWJvdXQuY2xhc3NMaXN0LmFkZCgnb2ZmZXItYWN0aXZlJyk7XG59O1xuXG5jb25zdCBoYW5kbGVDbG9zZUFib3V0ID0gKCkgPT4ge1xuXHRzZWN0aW9uQWJvdXQuY2xhc3NMaXN0LnJlbW92ZSgnb2ZmZXItYWN0aXZlJyk7XG5cdHNlY3Rpb25BYm91dC5jbGFzc0xpc3QuYWRkKCdvZmZlci1jbG9zZScpO1xuXHRhYm91dFRvVGhlVG9wKCk7XG59O1xuXG5jb25zdCBhYm91dFRvVGhlVG9wID0gKCkgPT4ge1xuXHR3aW5kb3cuc2VjdGlvbkFib3V0LnNjcm9sbFRvKHtcblx0XHR0b3A6IDAsXG5cdFx0YmVoYXZpb3I6ICdzbW9vdGgnLFxuXHR9KTtcbn07XG5cbmNvbnN0IHNob3dDb29raWUgPSAoKSA9PiB7XG5cdGNvbnN0IGNvb2tpZUVhdGVuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Nvb2tpZScpO1xuXHRpZiAoY29va2llRWF0ZW4pIHtcblx0XHRjb29raWVCb3guY2xhc3NMaXN0LmFkZCgnaGlkZUNvb2tpZScpO1xuXHR9XG59O1xuXG5jb25zdCBoYW5kbGVDb29raWVCb3ggPSAoKSA9PiB7XG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb29raWUnLCAndHJ1ZScpO1xuXHRjb29raWVCb3guY2xhc3NMaXN0LmFkZCgnaGlkZUNvb2tpZScpO1xufTtcblxuc2hvd0Nvb2tpZSgpO1xuaGFuZGxlWWVhcigpO1xuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlT3Blbk1lbnUpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhpZGVMb2dvKTtcbmFsbExpbmtzLmZvckVhY2goKGxpbmspID0+IGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbG9zZSkpO1xub2ZmZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVPcGVuT2ZmZXIpO1xub2ZmZXJDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsb3NlT2ZmZXIpO1xuYWJvdXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVPcGVuQWJvdXQpO1xuYWJvdXRDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsb3NlQWJvdXQpO1xuY29va2llQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ29va2llQm94KTtcblxuLy8gPT09PT09PT09PT09PT09PT0gRk9STSA9PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3Qgc2VuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZW5kQnRuJyk7XG5jb25zdCBtc2dTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXNnLXN0YXR1cycpO1xuY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpO1xuY29uc3QgbWFpbElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VtYWlsJyk7XG5jb25zdCByZXN1bHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXN1bHQnKTtcblxuY29uc3QgY2hlY2tOYW1lID0gKGUpID0+IHtcblx0Y29uc3QgY29udGFjdEJveCA9IGlucHV0LmNsb3Nlc3QoJy5jb250YWN0LWJveCcpO1xuXHRpZiAoaW5wdXQudmFsdWUgPT09ICcnKSB7XG5cdFx0Y29udGFjdEJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fSBlbHNlIHtcblx0XHRjb250YWN0Qm94LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XG5cdH1cbn07XG5cbmNvbnN0IGNoZWNrTWFpbCA9IChtYWlsSW5wdXQsIGUpID0+IHtcblx0Y29uc3QgY29udGFjdEJveCA9IG1haWxJbnB1dC5jbG9zZXN0KCcuY29udGFjdC1ib3gnKTtcblx0Y29uc3QgcmUgPVxuXHRcdC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwuKFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsM30pKSQvaTtcblx0aWYgKHJlLnRlc3QobWFpbElucHV0LnZhbHVlKSkge1xuXHRcdGNvbnRhY3RCb3guY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcblx0fSBlbHNlIHtcblx0XHRjb250YWN0Qm94LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG59O1xuXG5jb25zdCBjaGVja1Jlc3VsdCA9IChlKSA9PiB7XG5cdGNvbnN0IGNvbnRhY3RCb3ggPSByZXN1bHRJbnB1dC5jbG9zZXN0KCcuY29udGFjdC1ib3gnKTtcblx0aWYgKHJlc3VsdElucHV0LnZhbHVlICE9IDE0KSB7XG5cdFx0Y29udGFjdEJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fSBlbHNlIHtcblx0XHRjb250YWN0Qm94LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XG5cdH1cbn07XG5cbmNvbnN0IGNoZWNrRXJyb3JzID0gKGUpID0+IHtcblx0Y29uc3QgYWxsQ29udGFjdEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0LWJveCcpO1xuXHRsZXQgZXJyb3JDb3VudCA9IDA7XG5cdGFsbENvbnRhY3RCb3guZm9yRWFjaCgoYm94KSA9PiB7XG5cdFx0aWYgKGJveC5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykpIHtcblx0XHRcdGVycm9yQ291bnQrKztcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0pO1xuXHRpZiAoZXJyb3JDb3VudCA9PSAwKSB7XG5cdFx0aGFuZGxlTWFpbFNlbmQoKTtcblx0fVxufTtcblxuY29uc3QgaGFuZGxlTWFpbFNlbmQgPSAoKSA9PiB7XG5cdGlmIChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2ggPT09ICc/bWFpbF9zdGF0dXM9c2VudCcpIHtcblx0XHRtc2dTdGF0dXMuY2xhc3NMaXN0LmFkZCgnc3VjY2VzcycpO1xuXHRcdG1zZ1N0YXR1cy50ZXh0Q29udGVudCA9ICdXaWFkb21vxZvEhyB3eXPFgmFuYSEnO1xuXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRtc2dTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZSgnc3VjY2VzcycpO1xuXHRcdH0sIDMwMDApO1xuXHR9XG5cblx0aWYgKGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCA9PT0gJz9tYWlsX3N0YXR1cz1lcnJvcicpIHtcblx0XHRtc2dTdGF0dXMuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcblx0XHRtc2dTdGF0dXMudGV4dENvbnRlbnQgPSAnV3lzdMSFcGnFgiBixYLEhWQuJztcblxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0bXNnU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XG5cdFx0fSwgMzAwMCk7XG5cdH1cbn07XG5cbnNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHQvLyBlLnByZXZlbnREZWZhdWx0KCk7XG5cdGNoZWNrTmFtZShlKTtcblx0Y2hlY2tNYWlsKG1haWxJbnB1dCwgZSk7XG5cdGNoZWNrUmVzdWx0KGUpO1xuXHRjaGVja0Vycm9ycyhlKTtcbn0pO1xuIl19
