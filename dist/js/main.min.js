"use strict";var burgerBtn=document.querySelector(".nav__burger-inside"),logo=document.querySelector(".nav__logo"),offerBtn=document.querySelector(".offer-btn"),footerYear=document.querySelector(".currYear"),menu=document.querySelector(".menu"),allLinks=document.querySelectorAll(".menu__item a"),sectionOffer=document.querySelector(".offer-extend"),offerCloseBtn=document.querySelector(".closeOfferBtn"),offerHeader=document.querySelectorAll(".mental"),sectionAbout=document.querySelector(".about-expand"),aboutCloseBtn=document.querySelector(".closeAboutBtn"),aboutBtn=document.querySelector(".about-btn"),handleOpenMenu=function(){burgerBtn.classList.toggle("active"),menu.classList.toggle("activeMenu"),menu.classList.remove("hideMenu")},handleClose=function(){burgerBtn.classList.toggle("active"),menu.classList.toggle("activeMenu"),menu.classList.add("hideMenu"),sectionOffer.classList.contains("offer-active")&&handleCloseOffer(),sectionAbout.classList.contains("offer-active")&&handleCloseAbout()},hideLogo=function(){100<=window.scrollY?(logo.classList.add("hideLogo"),logo.classList.remove("showLogo")):(logo.classList.remove("hideLogo"),logo.classList.add("showLogo"))},handleOfferAnimation=function(){var t=1;offerHeader.forEach(function(e){e.classList.toggle("offerHeaderAnim"),e.style.animationDelay="."+t+"s",t++})},handleYear=function(){var e=(new Date).getFullYear();footerYear.textContent=e},handleOpenOffer=function(){logo.classList.add("hideLogo"),sectionOffer.classList.remove("offer-close"),sectionOffer.classList.add("offer-active"),handleOfferAnimation()},handleCloseOffer=function(){logo.classList.remove("hideLogo"),sectionOffer.classList.remove("offer-active"),sectionOffer.classList.add("offer-close"),offerToTheTop(),handleOfferAnimation()},offerToTheTop=function(){window.sectionOffer.scrollTo({top:0,behavior:"smooth"})},handleOpenAbout=function(){logo.classList.add("hideLogo"),sectionAbout.classList.remove("offer-close"),sectionAbout.classList.add("offer-active")},handleCloseAbout=function(){logo.classList.remove("hideLogo"),sectionAbout.classList.remove("offer-active"),sectionAbout.classList.add("offer-close"),aboutToTheTop()},aboutToTheTop=function(){window.sectionAbout.scrollTo({top:0,behavior:"smooth"})},sendBtn=(handleYear(),burgerBtn.addEventListener("click",handleOpenMenu),window.addEventListener("scroll",hideLogo),allLinks.forEach(function(e){return e.addEventListener("click",handleClose)}),offerBtn.addEventListener("click",handleOpenOffer),offerCloseBtn.addEventListener("click",handleCloseOffer),aboutBtn.addEventListener("click",handleOpenAbout),aboutCloseBtn.addEventListener("click",handleCloseAbout),document.querySelector(".sendBtn")),msgStatus=document.querySelector(".msg-status"),input=document.querySelector("#name"),mailInput=document.querySelector("#email"),resultInput=document.querySelector("#result"),checkName=function(e){var t=input.closest(".contact-box");""===input.value?(t.classList.add("error"),e.preventDefault()):t.classList.remove("error")},checkMail=function(e,t){var o=e.closest(".contact-box");/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/i.test(e.value)?o.classList.remove("error"):(o.classList.add("error"),t.preventDefault())},checkResult=function(e){var t=resultInput.closest(".contact-box");14!=resultInput.value?(t.classList.add("error"),e.preventDefault()):t.classList.remove("error")},checkErrors=function(t){var e=document.querySelectorAll(".contact-box"),o=0;e.forEach(function(e){e.classList.contains("error")&&(o++,t.preventDefault())}),0==o&&handleMailSend()},handleMailSend=function(){"?mail_status=sent"===document.location.search&&(msgStatus.classList.add("success"),msgStatus.textContent="Wiadomość wysłana!",setTimeout(function(){msgStatus.classList.remove("success")},3e3)),"?mail_status=error"===document.location.search&&(msgStatus.classList.add("error"),msgStatus.textContent="Wystąpił błąd.",setTimeout(function(){msgStatus.classList.remove("error")},3e3))};sendBtn.addEventListener("click",function(e){checkName(e),checkMail(mailInput,e),checkResult(e),checkErrors(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibG9nbyIsIm9mZmVyQnRuIiwiZm9vdGVyWWVhciIsIm1lbnUiLCJhbGxMaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZWN0aW9uT2ZmZXIiLCJvZmZlckNsb3NlQnRuIiwib2ZmZXJIZWFkZXIiLCJzZWN0aW9uQWJvdXQiLCJhYm91dEJ0biIsImhhbmRsZU9wZW5NZW51IiwidG9nZ2xlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiaGFuZGxlQ2xvc2UiLCJhZGQiLCJjb250YWlucyIsImhhbmRsZUNsb3NlT2ZmZXIiLCJoYW5kbGVDbG9zZUFib3V0Iiwid2luZG93Iiwic2Nyb2xsWSIsIml0ZW0iLCJzdHlsZSIsImFuaW1hdGlvbkRlbGF5IiwiZGVsYXlUaW1lIiwiaGFuZGxlWWVhciIsImhhbmRsZU9wZW5PZmZlciIsImdldEZ1bGxZZWFyIiwiZGF0ZSIsImhhbmRsZU9mZmVyQW5pbWF0aW9uIiwib2ZmZXJUb1RoZVRvcCIsInNjcm9sbFRvIiwiaGFuZGxlT3BlbkFib3V0IiwiYWJvdXRUb1RoZVRvcCIsInRvcCIsImJlaGF2aW9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhY3RCb3giLCJhYm91dENsb3NlQnRuIiwiaGlkZUxvZ28iLCJmb3JFYWNoIiwibGluayIsIm1zZ1N0YXR1cyIsIm1haWxJbnB1dCIsInJlc3VsdElucHV0IiwicHJldmVudERlZmF1bHQiLCJpbnB1dCIsImNoZWNrTWFpbCIsImUiLCJjbG9zZXN0IiwidmFsdWUiLCJjaGVja1Jlc3VsdCIsImFsbENvbnRhY3RCb3giLCJlcnJvckNvdW50IiwiaGFuZGxlTWFpbFNlbmQiLCJ0ZXh0Q29udGVudCIsInNldFRpbWVvdXQiLCJsb2NhdGlvbiIsInNlYXJjaCIsInNlbmRCdG4iLCJjaGVja0Vycm9ycyIsImNoZWNrTmFtZSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsVUFBWUMs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QUFBLFVBQVd4QyxTQUFNLE9BQUEsSUFkaEJxQyxDQWVBWCxHQWRBTSxFQWVBSCxlQUFPLEVBYlQsQ0FnQkEsRUFDV2pDLEdBQVY4QixHQWZBWSxlQWdCVUMsQ0FkWixFQW1CQ0QsZUFBQSxXQUNBLHNCQUFBekQsU0FBQTRELFNBQUFDLFNBRURDLFVBQVF2QixVQUFBQSxJQUFpQixTQUFTLEVBQ2pDTSxVQUFBYSxZQUFBLHFCQUVBUixXQUFVSixXQUNWUSxVQUFXdkMsVUFBR0MsT0FBQSxTQUFBLENBQ2QrQyxFQUFBQSxHQUFBQSxHQWZpQyx1QkFBN0IvRCxTQUFTNEQsU0FBU0MsU0FDckJoQixVQUFVOUIsVUFBVUcsSUFBSSxPQUFPLEVBQy9CMkIsVUFBVWEsWUFBYyxpQkFFeEJDLFdBQVcsV0FDVmQsVUFBVTlCLFVBQVVDLE9BQU8sT0FBTyxDQUNuQyxFQUFHLEdBQUksRUFFVCxFQUVBOEMsUUFBUXZCLGlCQUFpQixRQUFTLFNBQUNZLEdBRWxDYSxVQUFVYixDQUFDLEVBQ1hELFVBQVVKLFVBQVdLLENBQUMsRUFDdEJHLFlBQVlILENBQUMsRUFDYlksWUFBWVosQ0FBQyxDQUNkLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19idXJnZXItaW5zaWRlJyk7XG5jb25zdCBsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbG9nbycpO1xuY29uc3Qgb2ZmZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2ZmZXItYnRuJyk7XG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnJZZWFyJyk7XG5jb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUnKTtcbmNvbnN0IGFsbExpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1lbnVfX2l0ZW0gYScpO1xuY29uc3Qgc2VjdGlvbk9mZmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9mZmVyLWV4dGVuZCcpO1xuY29uc3Qgb2ZmZXJDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZU9mZmVyQnRuJyk7XG5jb25zdCBvZmZlckhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW50YWwnKTtcbmNvbnN0IHNlY3Rpb25BYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hYm91dC1leHBhbmQnKTtcbmNvbnN0IGFib3V0Q2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2VBYm91dEJ0bicpO1xuY29uc3QgYWJvdXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXQtYnRuJyk7XG5cbmNvbnN0IGhhbmRsZU9wZW5NZW51ID0gKCkgPT4ge1xuXHRidXJnZXJCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG5cdG1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlTWVudScpO1xuXHRtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGVNZW51Jyk7XG59O1xuXG5jb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcblx0YnVyZ2VyQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuXHRtZW51LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZU1lbnUnKTtcblx0bWVudS5jbGFzc0xpc3QuYWRkKCdoaWRlTWVudScpO1xuXHRpZiAoc2VjdGlvbk9mZmVyLmNsYXNzTGlzdC5jb250YWlucygnb2ZmZXItYWN0aXZlJykpIHtcblx0XHRoYW5kbGVDbG9zZU9mZmVyKCk7XG5cdH1cblx0aWYgKHNlY3Rpb25BYm91dC5jbGFzc0xpc3QuY29udGFpbnMoJ29mZmVyLWFjdGl2ZScpKSB7XG5cdFx0aGFuZGxlQ2xvc2VBYm91dCgpO1xuXHR9XG59O1xuXG5jb25zdCBoaWRlTG9nbyA9ICgpID0+IHtcblx0aWYgKHdpbmRvdy5zY3JvbGxZID49IDEwMCkge1xuXHRcdGxvZ28uY2xhc3NMaXN0LmFkZCgnaGlkZUxvZ28nKTtcblx0XHRsb2dvLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3dMb2dvJyk7XG5cdH0gZWxzZSB7XG5cdFx0bG9nby5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlTG9nbycpO1xuXHRcdGxvZ28uY2xhc3NMaXN0LmFkZCgnc2hvd0xvZ28nKTtcblx0fVxufTtcblxuY29uc3QgaGFuZGxlT2ZmZXJBbmltYXRpb24gPSAoKSA9PiB7XG5cdGxldCBkZWxheVRpbWUgPSAxO1xuXHRvZmZlckhlYWRlci5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0aXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdvZmZlckhlYWRlckFuaW0nKTtcblx0XHRpdGVtLnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gJy4nICsgZGVsYXlUaW1lICsgJ3MnO1xuXHRcdGRlbGF5VGltZSsrO1xuXHR9KTtcbn07XG5cbmNvbnN0IGhhbmRsZVllYXIgPSAoKSA9PiB7XG5cdGxldCBkYXRlID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuXHRmb290ZXJZZWFyLnRleHRDb250ZW50ID0gZGF0ZTtcbn07XG5cbmNvbnN0IGhhbmRsZU9wZW5PZmZlciA9ICgpID0+IHtcblx0bG9nby5jbGFzc0xpc3QuYWRkKCdoaWRlTG9nbycpO1xuXHRzZWN0aW9uT2ZmZXIuY2xhc3NMaXN0LnJlbW92ZSgnb2ZmZXItY2xvc2UnKTtcblx0c2VjdGlvbk9mZmVyLmNsYXNzTGlzdC5hZGQoJ29mZmVyLWFjdGl2ZScpO1xuXHRoYW5kbGVPZmZlckFuaW1hdGlvbigpO1xufTtcblxuY29uc3QgaGFuZGxlQ2xvc2VPZmZlciA9ICgpID0+IHtcblx0bG9nby5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlTG9nbycpO1xuXHRzZWN0aW9uT2ZmZXIuY2xhc3NMaXN0LnJlbW92ZSgnb2ZmZXItYWN0aXZlJyk7XG5cdHNlY3Rpb25PZmZlci5jbGFzc0xpc3QuYWRkKCdvZmZlci1jbG9zZScpO1xuXHRvZmZlclRvVGhlVG9wKCk7XG5cdGhhbmRsZU9mZmVyQW5pbWF0aW9uKCk7XG59O1xuXG5jb25zdCBvZmZlclRvVGhlVG9wID0gKCkgPT4ge1xuXHR3aW5kb3cuc2VjdGlvbk9mZmVyLnNjcm9sbFRvKHtcblx0XHR0b3A6IDAsXG5cdFx0YmVoYXZpb3I6ICdzbW9vdGgnLFxuXHR9KTtcbn07XG5cbmNvbnN0IGhhbmRsZU9wZW5BYm91dCA9ICgpID0+IHtcblx0bG9nby5jbGFzc0xpc3QuYWRkKCdoaWRlTG9nbycpO1xuXHRzZWN0aW9uQWJvdXQuY2xhc3NMaXN0LnJlbW92ZSgnb2ZmZXItY2xvc2UnKTtcblx0c2VjdGlvbkFib3V0LmNsYXNzTGlzdC5hZGQoJ29mZmVyLWFjdGl2ZScpO1xufTtcblxuY29uc3QgaGFuZGxlQ2xvc2VBYm91dCA9ICgpID0+IHtcblx0bG9nby5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlTG9nbycpO1xuXHRzZWN0aW9uQWJvdXQuY2xhc3NMaXN0LnJlbW92ZSgnb2ZmZXItYWN0aXZlJyk7XG5cdHNlY3Rpb25BYm91dC5jbGFzc0xpc3QuYWRkKCdvZmZlci1jbG9zZScpO1xuXHRhYm91dFRvVGhlVG9wKCk7XG59O1xuXG5jb25zdCBhYm91dFRvVGhlVG9wID0gKCkgPT4ge1xuXHR3aW5kb3cuc2VjdGlvbkFib3V0LnNjcm9sbFRvKHtcblx0XHR0b3A6IDAsXG5cdFx0YmVoYXZpb3I6ICdzbW9vdGgnLFxuXHR9KTtcbn07XG5cbmhhbmRsZVllYXIoKTtcbmJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU9wZW5NZW51KTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoaWRlTG9nbyk7XG5hbGxMaW5rcy5mb3JFYWNoKChsaW5rKSA9PiBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xvc2UpKTtcbi8vIGFsbExpbmtzLmZvckVhY2goKGxpbmspID0+IGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbG9zZU9mZmVyKSk7XG5vZmZlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU9wZW5PZmZlcik7XG5vZmZlckNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xvc2VPZmZlcik7XG5hYm91dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU9wZW5BYm91dCk7XG5hYm91dENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xvc2VBYm91dCk7XG5cbi8vID09PT09PT09PT09PT09PT09IEZPUk0gPT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VuZEJ0bicpO1xuY29uc3QgbXNnU3RhdHVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1zZy1zdGF0dXMnKTtcbmNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKTtcbmNvbnN0IG1haWxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbWFpbCcpO1xuY29uc3QgcmVzdWx0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzdWx0Jyk7XG5cbmNvbnN0IGNoZWNrTmFtZSA9IChlKSA9PiB7XG5cdGNvbnN0IGNvbnRhY3RCb3ggPSBpbnB1dC5jbG9zZXN0KCcuY29udGFjdC1ib3gnKTtcblx0aWYgKGlucHV0LnZhbHVlID09PSAnJykge1xuXHRcdGNvbnRhY3RCb3guY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29udGFjdEJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuXHR9XG59O1xuXG5jb25zdCBjaGVja01haWwgPSAobWFpbElucHV0LCBlKSA9PiB7XG5cdGNvbnN0IGNvbnRhY3RCb3ggPSBtYWlsSW5wdXQuY2xvc2VzdCgnLmNvbnRhY3QtYm94Jyk7XG5cdGNvbnN0IHJlID1cblx0XHQvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8LihcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLDN9KSkkL2k7XG5cdGlmIChyZS50ZXN0KG1haWxJbnB1dC52YWx1ZSkpIHtcblx0XHRjb250YWN0Qm94LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XG5cdH0gZWxzZSB7XG5cdFx0Y29udGFjdEJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fVxufTtcblxuY29uc3QgY2hlY2tSZXN1bHQgPSAoZSkgPT4ge1xuXHRjb25zdCBjb250YWN0Qm94ID0gcmVzdWx0SW5wdXQuY2xvc2VzdCgnLmNvbnRhY3QtYm94Jyk7XG5cdGlmIChyZXN1bHRJbnB1dC52YWx1ZSAhPSAxNCkge1xuXHRcdGNvbnRhY3RCb3guY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29udGFjdEJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuXHR9XG59O1xuXG5jb25zdCBjaGVja0Vycm9ycyA9IChlKSA9PiB7XG5cdGNvbnN0IGFsbENvbnRhY3RCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFjdC1ib3gnKTtcblx0bGV0IGVycm9yQ291bnQgPSAwO1xuXHRhbGxDb250YWN0Qm94LmZvckVhY2goKGJveCkgPT4ge1xuXHRcdGlmIChib3guY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKSB7XG5cdFx0XHRlcnJvckNvdW50Kys7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9KTtcblx0aWYgKGVycm9yQ291bnQgPT0gMCkge1xuXHRcdGhhbmRsZU1haWxTZW5kKCk7XG5cdH1cbn07XG5cbmNvbnN0IGhhbmRsZU1haWxTZW5kID0gKCkgPT4ge1xuXHRpZiAoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoID09PSAnP21haWxfc3RhdHVzPXNlbnQnKSB7XG5cdFx0bXNnU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ3N1Y2Nlc3MnKTtcblx0XHRtc2dTdGF0dXMudGV4dENvbnRlbnQgPSAnV2lhZG9tb8WbxIcgd3lzxYJhbmEhJztcblxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0bXNnU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoJ3N1Y2Nlc3MnKTtcblx0XHR9LCAzMDAwKTtcblx0fVxuXG5cdGlmIChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2ggPT09ICc/bWFpbF9zdGF0dXM9ZXJyb3InKSB7XG5cdFx0bXNnU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XG5cdFx0bXNnU3RhdHVzLnRleHRDb250ZW50ID0gJ1d5c3TEhXBpxYIgYsWCxIVkLic7XG5cblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdG1zZ1N0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuXHRcdH0sIDMwMDApO1xuXHR9XG59O1xuXG5zZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0Ly8gZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRjaGVja05hbWUoZSk7XG5cdGNoZWNrTWFpbChtYWlsSW5wdXQsIGUpO1xuXHRjaGVja1Jlc3VsdChlKTtcblx0Y2hlY2tFcnJvcnMoZSk7XG59KTtcbiJdfQ==
